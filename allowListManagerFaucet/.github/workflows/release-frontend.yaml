name: Release Frontend

on:
  push:
    tags:
      - allowlist-frontend/*

jobs:
  release-frontend:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Release Docker Image
        uses: concordium/.github/.github/workflows/docker-release-workflow.yaml@main
        with:
          SERVICE_NAME: allowlist-frontend
          BUILD_ARGS: |
            build_image=node:18-slim
            TOKEN_ID=${{ secrets.DEFAULT_TOKEN_ID }}
            BACKEND_URL=${{ secrets.FRONTEND_BACKEND_URL }}
          DOCKER_FILE_PATH: frontend/Dockerfile
          DOCKER_CONTEXT_PATH: frontend
        secrets: inherit
