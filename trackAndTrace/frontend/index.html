<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Concordium Track And Trace dApp</title>

        <script src="../node_modules/@concordium/web-sdk/lib/min/concordium.web.min.js"></script>
        <script src="../node_modules/@concordium/browser-wallet-api-helpers/lib/concordiumHelpers.min.js"></script>

        <script>
            let client = null;

            function connect() {
                client.connect().then((accountAddress) => {
                    console.log(accountAddress);
                    document.getElementById('account').innerHTML = accountAddress;
                });
            }

            function setupPage() {
                // Get the client.
                concordiumHelpers
                    .detectConcordiumProvider()
                    .then((c) => (client = c))
                    .catch(alert);
            }

            // Set up the page when the DOM is loaded.
            addEventListener('DOMContentLoaded', (_) => setupPage());
        </script>
    </head>

    <body>
        <div class="container">
            <div class="navbar">
                <div>Track And Trace</div>
                <a href="/about">About</a>
                <a href="/explorer">Explorer</a>
                <a href="/support">Support</a>
                <a href="/admin">Admin</a>
                <button id="account" onClick="{connect()}">Connect Wallet</button>
            </div>
            <div id="root"></div>
        </div>

        <script type="module" src="/src/main.tsx"></script>
    </body>
</html>
